# ====================================
# APPLICATION SETTINGS
# ====================================

server.port=8080
#server.servlet.context-path=/music
spring.application.name=MusicApp

# ====================================
# DATABASE CONFIGURATION
# ====================================

# H2 Database (Development) - SIMPLIFIED
spring.datasource.url=jdbc:h2:file:./data/musicdb
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# JPA/Hibernate
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# H2 Console
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# ====================================
# SPOTIFY API
# ====================================
spotify.client.id=YOUR_SPOTIFY_CLIENT_ID
spotify.client.secret=YOUR_SPOTIFY_CLIENT_SECRET
spotify.redirect.uri=http://localhost:8080/music/auth/callback

# ====================================
# IMPORT SERVICES
# ====================================
import.enabled=true
import.services=spotify,musicbrainz,podcast

import.spotify.enabled=true
import.spotify.api.base-url=https://api.spotify.com/v1
import.spotify.auth-url=https://accounts.spotify.com/api/token

import.musicbrainz.enabled=true
import.musicbrainz.api.base-url=https://musicbrainz.org/ws/2
import.musicbrainz.rate-limit-ms=1000

import.podcast.enabled=true

# ====================================
# WEB CLIENT CONFIG
# ====================================
webclient.timeout.connect=5000
webclient.timeout.read=10000
webclient.timeout.write=10000

# ====================================
# MUSIC DISCOVERY APIs
# ====================================
music.discovery.enabled=true
music.discovery.musicbrainz.url=https://musicbrainz.org/ws/2
music.discovery.musicbrainz.rate-limit=10
music.discovery.musicbrainz.user-agent=MusicApp/1.0 (contact@musichub.com)

# ====================================
# CACHE CONFIGURATION
# ====================================
cache.enabled=true
cache.storage.path=./cache
cache.max.size.mb=1024
cache.default.ttl.seconds=3600

# ====================================
# SECURITY
# ====================================
security.enabled=false  # Set to true when implementing auth
security.jwt.secret=your-jwt-secret-key-here-change-in-production
security.jwt.expiration.hours=24

# ====================================
# CORS CONFIGURATION
# ====================================
cors.allowed.origins=http://localhost:3000,http://localhost:5173,http://localhost:4200
cors.allowed.methods=GET,POST,PUT,DELETE,OPTIONS,PATCH
cors.allowed.headers=Origin,Content-Type,Accept,Authorization,X-Requested-With
cors.allow.credentials=true
cors.max.age=3600

# ====================================
# LOGGING
# ====================================
logging.level.com.music.musicapp=DEBUG
logging.level.org.springframework.web=INFO
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.file.name=logs/musicapp.log
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# ====================================
# ERROR HANDLING
# ====================================
server.error.include-message=always
server.error.include-binding-errors=always
server.error.include-stacktrace=on_param
server.error.include-exception=false